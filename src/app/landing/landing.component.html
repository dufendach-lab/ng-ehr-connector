<!--  Switch between login and landing  -->
<div *ngIf="user | async; else Login" class="wrapper">
  <!-- Mobile view -->
  <ng-container *ngIf="isHandset$ | async; else Desktop" class="phone-container">
    <div class="welcome-container">
<!--      <p style="font-size: 48px"><span>Hello,</span> <br>{{ name }}</p>-->
      <p><span>You are</span><br> {{ this.gestAge }} pregnant</p>
    </div>

    <div class="fruit-facts">
      <div class="twin-fruit-container" fxLayout="row" fxLayoutAlign="space-between">
        <mat-card class="mat-elevation-z0 fruit-card">
          <div fxLayout="column" fxLayoutAlign="center center">
            <h3>Kareem</h3>
            <img style="border-radius: 50%" mat-card-md-image src="{{twinA.imgUrl}}" alt="fruit">
            <p>Hades is about the {{twinA.type}} of a {{twinA.fruit}}!</p>
            <p>Weighing approximately {{twinA.weight}}oz and a length of {{twinA.length}}</p>
            <p></p>
          </div>
        </mat-card>
        <mat-divider [vertical]="true" style="margin-bottom: 20px; margin-top: 20px; border-right-color: whitesmoke;"></mat-divider>
        <mat-card class="mat-elevation-z0 fruit-card">
          <div fxLayout="column" fxLayoutAlign="center center">
            <h3>Serena</h3>
            <img style="border-radius: 50%" mat-card-md-image src="{{twinB.imgUrl}}" alt="fruit">
            <p>Athena is about the {{twinB.type}} of a {{twinB.fruit}}!</p>
            <p>Weighing approximately {{twinB.weight}}oz and a length of {{twinB.length}}</p>
          </div>
        </mat-card>
      </div>
    </div>

    <!--  Main card - Preg status if mom has not birthed  -->
    <div class="card-container">
      <ng-container *ngIf="!hasBirthed">
        <mat-card class="woah-card"
                  (click)="openDialog()">
          <mat-card-content>
            <h2>Pregnancy<br> Status</h2>
            <br>
            <p>Click here to update <br> the status of your pregnancy <br> </p>
            <br><br><br>
          </mat-card-content>
        </mat-card>
      </ng-container>

      <!--  Main card - Mom has birthed but needs to authorize to access dashboard  -->
      <ng-container *ngIf="hasBirthed">
        <ng-container *ngIf="!(isAuthorized | async)">
          <mat-card routerLink="/authorize" class="auth-card">
            <mat-card-title-group>
              <mat-card-title>Connect</mat-card-title>
              <mat-card-subtitle>to the EHR to transfer birth info to Cincinnati Children's</mat-card-subtitle>
              <img mat-card-lg-image src="/../../assets/img/pregnancydevice.png" alt="mom">
            </mat-card-title-group>
          </mat-card>
        </ng-container>

        <!--  Main card - Mom has birthed & Authed - direct to dashboard  -->
        <ng-container *ngIf="(isAuthorized | async)">
          <mat-card routerLink="/dashboard">
            <mat-card-content>
              <h2>Dashboard</h2>
              <button mat-button style="background-color: #73b44a">Authorized</button>
            </mat-card-content>
          </mat-card>
        </ng-container>
      </ng-container>

      <div class="split-bottom">
        <ng-container>
          <mat-card class="resource-card"
                    routerLink="/resources">
            <mat-card-content>
              <h2>TTTS Information</h2>
              <br><br><br>
              <br><br><br>
              <br><br><br>
            </mat-card-content>
          </mat-card>
        </ng-container>

        <ng-container>
          <mat-card class="extras-card"
                    routerLink="/tools">
            <mat-card-content>
              <h2>Resources</h2>
              <br><br><br>
              <br><br><br>
              <br><br><br>
            </mat-card-content>
          </mat-card>
        </ng-container>
      </div>

      <ng-container>
        <mat-card routerLink="/edit/profile">
          <mat-card-title-group>
            <mat-card-title><br>&nbsp;Edit Profile</mat-card-title>
            <img mat-card-md-image src="/../../assets/img/Blank-profile.png" alt="profile">
          </mat-card-title-group>
        </mat-card>
      </ng-container>
    </div>

  </ng-container>
</div>

<!-- Desktop view -->
<ng-template #Desktop>
  <div class="desktop-container">
    <div class="dt-welcome-container">
      <div>
        <p style="font-size: 48px;"><span style="font-weight: bolder">Hello,</span> <br>{{ name }}</p>
      </div>

      <div class="twin-fruit-container" fxLayout="row" fxLayoutAlign="space-between">
        <div fxLayout="column" fxLayoutAlign="center center"
             matTooltip="Weight: ~{{twinA.weight}}oz | Length: ~{{twinA.length}}"
             (click)="tooltip.show()"
             #tooltip="matTooltip"
             matTooltipPosition="above">
          <p>Kareem</p>
          <img style="border-radius: 50%" mat-card-md-image src="{{this.twinA.imgUrl}}" alt="fruit">
          <p style="font-size: 12px; font-style: italic">Hades is about the {{twinA.type}} of a {{twinA.fruit}}!</p>
        </div>
        <mat-divider [vertical]="true" style="margin-bottom: 20px; margin-top: 20px; border-right-color: whitesmoke;"></mat-divider>
        <div fxLayout="column" fxLayoutAlign="center center"
             matTooltip="Weight: ~{{twinB.weight}}oz | Length: ~{{twinB.length}}"
             (click)="tooltip2.show()"
             #tooltip2="matTooltip"
             matTooltipPosition="above">
          <p>Serena</p>
          <img style="border-radius: 50%" mat-card-md-image src="{{this.twinB.imgUrl}}" alt="fruit">
          <p style="font-size: 12px; font-style: italic">Athena is about the {{twinB.type}} of a {{twinB.fruit}}!</p>
        </div>
      </div>
    </div>

    <div class="dt-card-container">
      <ng-container *ngIf="!hasBirthed">
        <mat-card (click)="openDialog()" class="dt-preg-status-card">
          <mat-card-title-group>
            <mat-card-title>Pregnancy Status</mat-card-title>
            <mat-card-subtitle>Click here to update the status of your pregnancy</mat-card-subtitle>
            <img mat-card-lg-image src="/../../assets/img/mom (1).png" alt="mom">
          </mat-card-title-group>
        </mat-card>
      </ng-container>

      <ng-container *ngIf="hasBirthed">
        <ng-container *ngIf="!(isAuthorized | async)">
          <mat-card routerLink="/authorize" class="dt-auth-card">
            <mat-card-title-group>
              <mat-card-title>Connect</mat-card-title>
              <mat-card-subtitle>to the EHR to transfer birth info to Cincinnati Children's</mat-card-subtitle>
              <img mat-card-lg-image src="/../../assets/img/pregnancydevice.png" alt="mom">
            </mat-card-title-group>
          </mat-card>
        </ng-container>

        <ng-container *ngIf="(isAuthorized | async)">
          <mat-card routerLink="/dashboard" class="dt-dashboard-card">
            <mat-card-title-group>
              <mat-card-title>Dashboard</mat-card-title>
              <mat-card-subtitle>to view and send information from your birth to Cincinnati Children's</mat-card-subtitle>
              <img mat-card-lg-image src="/../../assets/img/origin.png" alt="mom">
            </mat-card-title-group>
          </mat-card>
        </ng-container>
      </ng-container>

      <ng-container>
        <mat-card class="dt-resource-card"
                  routerLink="/resources">
          <mat-card-title-group>
            <mat-card-title>TTTS Information</mat-card-title>
            <mat-card-subtitle>to help you better understand</mat-card-subtitle>
            <img mat-card-lg-image src="/../../assets/img/ttts.png" alt="ttts">
          </mat-card-title-group>
        </mat-card>
      </ng-container>

      <ng-container>
        <mat-card class="dt-extras-card"
                  routerLink="/tools">
          <mat-card-title-group>
            <mat-card-title>Resources</mat-card-title>
            <mat-card-subtitle>to help you through your pregnancy</mat-card-subtitle>
            <img mat-card-lg-image src="/../../assets/img/tools.png" alt="tools">
          </mat-card-title-group>
<!--          <mat-card-content>-->
<!--            <h2>Tools</h2>-->
<!--            <p>to help you through your pregnancy</p>-->
<!--          </mat-card-content>-->
        </mat-card>
      </ng-container>

      <ng-container>
        <mat-card class="dt-profile-card"
                  routerLink="/edit/profile">
          <mat-card-title-group>
            <mat-card-title>Edit Profile</mat-card-title>
            <img mat-card-lg-image src="/../../assets/img/Blank-profile.png" alt="profile">
          </mat-card-title-group>
        </mat-card>
      </ng-container>
    </div>

  </div>
</ng-template>



<ng-template #Login>
  <app-launch></app-launch>
  <br>
  <!-- <app-registration></app-registration> -->
</ng-template>
