<!--  Switch between login and landing  -->
<div *ngIf="user | async; else Login" class="wrapper">
  <!-- Mobile view -->
  <ng-container *ngIf="isHandset$ | async; else Desktop" class="phone-container">
    <div class="welcome-container">
      <p style="font-size: 48px"><span>Hello,</span> <br>{{ name }}</p>
      <p><span>You are</span><br> {{ gestationalAgeCalc(eDD) }} pregnant</p>
    </div>

    <!--  Main card - Preg status if mom has not birthed  -->
    <div class="card-container">
      <ng-container *ngIf="!hasBirthed">
        <mat-card class="woah-card"
                  (click)="openDialog()">
          <mat-card-content>
            <h2>Pregnancy<br> Status</h2>
            <br>
            <p>Click here to update <br> the status of your pregnancy <br> </p>
            <br><br><br>
          </mat-card-content>
        </mat-card>
      </ng-container>

      <!--  Main card - Mom has birthed but needs to authorize to access dashboard  -->
      <ng-container *ngIf="hasBirthed">
        <ng-container *ngIf="!(isAuthorized | async)">
          <mat-card routerLink="/authorize">
            <mat-card-content>
              <h2>Authorize EHR<br>Connection</h2>
            </mat-card-content>
          </mat-card>
        </ng-container>

        <!--  Main card - Mom has birthed & Authed - direct to dashboard  -->
        <ng-container *ngIf="(isAuthorized | async)">
          <mat-card routerLink="/dashboard">
            <mat-card-content>
              <h2>Dashboard</h2>
              <button mat-button style="background-color: #73b44a">Authorized</button>
            </mat-card-content>
          </mat-card>
        </ng-container>
      </ng-container>

      <div class="split-bottom">
        <ng-container>
          <mat-card class="resource-card"
                    routerLink="/resources">
            <mat-card-content>
              <h2>Resources</h2>
              <br><br><br>
              <br><br><br>
              <br><br><br>
            </mat-card-content>
          </mat-card>
        </ng-container>

        <ng-container>
          <mat-card class="extras-card"
                    routerLink="/tools">
            <mat-card-content>
              <h2>Tools</h2>
              <br><br><br>
              <br><br><br>
              <br><br><br>
            </mat-card-content>
          </mat-card>
        </ng-container>
      </div>

      <ng-container>
        <mat-card class="dt-profile-card"
                  routerLink="/edit/profile">
          <mat-card-content>
            <h2>Edit your profile</h2>
            <br><br>
          </mat-card-content>
        </mat-card>
      </ng-container>
    </div>

    <div class="fruit-facts">
      <p class="fact-state">Your babies are approximately the {{ this.momsFruits.type }} of <span>{{ this.momsFruits.fruit }}s</span></p>
      <div>
        <img src="{{ this.momsFruits.imgUrl }}" alt="{{ this.momsFruits.fruit }}">
      </div>
      <p id="stats">Weight: ~{{ this.momsFruits.weight }} &nbsp;&nbsp; Length: ~{{ this.momsFruits.length }}</p>
    </div>

  </ng-container>
</div>

<!-- Desktop view -->
<ng-template #Desktop>
  <div class="desktop-container">
    <div class="dt-welcome-container">
      <div>
        <p style="font-size: 48px;"><span style="font-weight: bolder">Hello,</span> <br>{{ name }}</p>
      </div>

      <div class="fruit-card-container">
        <mat-card class="fruit-card">
          <mat-card-title-group>
            <mat-card-title>You are {{ gestationalAgeCalc(eDD) }} pregnant</mat-card-title>
            <mat-card-subtitle>Your babies are about the {{ this.momsFruits.type }} of {{ this.momsFruits.fruit }}'s</mat-card-subtitle>
            <img mat-card-md-image src="{{this.momsFruits.imgUrl}}" alt="fruit">
          </mat-card-title-group>
          <mat-card-content>
            <p id="stat">Weight: ~{{ this.momsFruits.weight }} &nbsp;&nbsp; Length: ~{{ this.momsFruits.length }}</p>
          </mat-card-content>
        </mat-card>
      </div>

    </div>

    <div class="dt-card-container">
      <ng-container *ngIf="!hasBirthed">
        <mat-card (click)="openDialog()" class="dt-preg-status-card">
          <mat-card-title-group>
            <mat-card-title>Pregnancy Status</mat-card-title>
            <mat-card-subtitle>Click here to upgrade the status of your pregnancy</mat-card-subtitle>
            <img mat-card-lg-image src="/../../assets/img/mom (1).png" alt="mom">
          </mat-card-title-group>
        </mat-card>
      </ng-container>

      <ng-container *ngIf="hasBirthed">
        <ng-container *ngIf="!(isAuthorized | async)">
          <mat-card routerLink="/authorize" class="dt-auth-card">
            <mat-card-content>
              <h2>Authorize</h2>
              <p>the EHR to transfer birth info to Cincinnati Children's</p>
              <br><br><br>
            </mat-card-content>
          </mat-card>
        </ng-container>

        <ng-container *ngIf="(isAuthorized | async)">
          <mat-card routerLink="/dashboard" class="dt-dashboard-card">
            <mat-card-content>
              <h2>Dashboard</h2>
              <p>to view and send information from your <br> birth to Cincinnati Children's</p>
              <br><br><br>
            </mat-card-content>
          </mat-card>
        </ng-container>
      </ng-container>

      <ng-container>
        <mat-card class="dt-resource-card"
                  routerLink="/resources">
          <mat-card-title-group>
            <mat-card-title>TTTS Information</mat-card-title>
            <mat-card-subtitle>to help you better understand</mat-card-subtitle>
            <img mat-card-lg-image src="/../../assets/img/ttts.png" alt="ttts">
          </mat-card-title-group>
        </mat-card>
      </ng-container>

      <ng-container>
        <mat-card class="dt-extras-card"
                  routerLink="/tools">
          <mat-card-title-group>
            <mat-card-title>Resources</mat-card-title>
            <mat-card-subtitle>to help you through your pregnancy</mat-card-subtitle>
            <img mat-card-lg-image src="/../../assets/img/tools.png" alt="tools">
          </mat-card-title-group>
<!--          <mat-card-content>-->
<!--            <h2>Tools</h2>-->
<!--            <p>to help you through your pregnancy</p>-->
<!--          </mat-card-content>-->
        </mat-card>
      </ng-container>

      <ng-container>
        <mat-card class="dt-profile-card"
                  routerLink="/edit/profile">
          <mat-card-title-group>
            <mat-card-title>Edit Profile</mat-card-title>
            <img mat-card-lg-image src="/../../assets/img/Blank-profile.png" alt="profile">
          </mat-card-title-group>
        </mat-card>
      </ng-container>
    </div>

  </div>
</ng-template>



<ng-template #Login>
  <app-launch></app-launch>
  <br>
  <!-- <app-registration></app-registration> -->
</ng-template>
